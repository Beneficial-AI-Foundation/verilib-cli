        fn top_half(x: u8) -> u8 {
            (x >> 4) & 15
        }