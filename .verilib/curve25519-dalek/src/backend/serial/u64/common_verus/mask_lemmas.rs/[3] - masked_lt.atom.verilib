pub proof fn masked_lt(v: u64, k: nat)
    requires
        0 <= k < 64
    ensures
        v & (low_bits_mask(k) as u64) < (1u64 << k)
{
    // v & (low_bits_mask(k) as u64) = v % pow2(k)
    lemma_u64_low_bits_mask_is_mod(v, k);
    // pow2(k) > 0
    lemma_pow2_pos(k);
    // v % pow2(k) < pow2(k)
    lemma_mod_bound(v as int, pow2(k) as int);
    // 1 << k = pow2(k)
    shift_is_pow2(k);
}