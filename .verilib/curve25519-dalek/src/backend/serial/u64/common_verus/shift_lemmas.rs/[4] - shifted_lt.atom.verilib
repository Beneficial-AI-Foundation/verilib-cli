pub proof fn shifted_lt(v: u64, k: nat)
    requires
        1 <= k <= 64
    ensures
        v >> k < 1u64 << (64 - k)
{
    if (k == 64) {
        assert( v >> 64 == 0) by (bit_vector);
        shl_zero_is_id(1u64);
    }
    else {
        // (v >> k) <= (u64::MAX >> k)
        lemma_shr_le_u64(v, u64::MAX, k);
        // u64::MAX >> k < 1u64 << (64 - k)
        lemma_u64_max_shifting(k);
    }
}